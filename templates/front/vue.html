 {% extends'front/master.html' %}

{% block content %}
	<div class="container-fluid">
     <div class="row">
    <!-- Form -->
    <div class="col-md-4">
      <h5>{{ editIndex === null ? 'Add User' : 'Edit User' }}</h5>
      <form @submit.prevent="saveUser">
        <div class="form-group">
          <label>Name:</label>
          <input type="text" class="form-control" v-model="form.name" required>
        </div>

        <div class="form-group">
          <label>Gender:</label>
          <select class="form-control" v-model="form.gender">
            <option>Male</option>
            <option>Female</option>
          </select>
        </div>

        <div class="form-group">
          <label>Age:</label>
          <input type="number" class="form-control" v-model="form.age" required>
        </div>

        <button type="submit" class="btn btn-primary">Save</button>
        <button type="button" class="btn btn-danger ml-2" @click="resetForm">Cancel</button>
      </form>
    </div>

    <!-- Table -->
    <div class="col-md-8">
      <h5>User List</h5>
      <table class="table table-bordered">
        <thead class="thead-light">
          <tr>
            <th>No.</th>
            <th>Name</th>
            <th>Gender</th>
            <th>Age</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          <tr v-for="(user, index) in users" :key="index">
            <td>{{ index + 1 }}</td>
            <td>{{ user.name }}</td>
            <td>{{ user.gender }}</td>
            <td>{{ user.age }}</td>
            <td>
              <button class="btn btn-sm btn-primary" @click="editUser(index)">Edit</button>
              <button class="btn btn-sm btn-danger ml-2" @click="deleteUser(index)">Delete</button>
            </td>
          </tr>
          <tr v-if="users.length === 0">
            <td colspan="5" class="text-center">No data</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
    </div>


{% endblock %}

{% block custom_script %}
	<script>
  const { createApp} = Vue

  createApp({
    delimiters:['[[', ']]'],
    data() {


      return {
        firstName: null,
        lastName: null,
        email: null,
        address: null,
        city: null,
        country: null,
      }
    }
  }).mount('#app')
    </script>

{% endblock %}

